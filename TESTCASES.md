## Общая информация

**Базовый URL:** https://qa-internship.avito.com  
**Версии API:** v1, v2  
**Формат данных:** JSON  
**Кодировка:** UTF-8

### Эндпоинты API v1:
- `POST /api/1/item` - создание объявления
- `GET /api/1/item/{id}` - получение объявления по ID
- `GET /api/1/{sellerId}/item` - получение объявлений продавца
- `GET /api/1/statistic/{id}` - получение статистики объявления

### Эндпоинты API v2:
- `DELETE /api/2/item/{id}` - удаление объявления
- `GET /api/2/statistic/{id}` - получение статистики объявления

---

## Тест-кейсы для API v1

### TC-API-V1-01: Успешное создание объявления с валидными данными

**Предусловия:**
- Передан валидный sellerId в диапазоне 111111-999999
- Все обязательные поля заполнены корректными данными

**Шаги:**
1. Выполнить POST запрос на эндпоинт /api/1/item с телом:
```json
{
  "sellerId": 123456,
  "name": "Test Item",
  "price": 1000,
  "statistics": {
    "likes": 10,
    "viewCount": 100,
    "contacts": 5
  }
}
```

**Ожидаемый результат:**
- Статус код: 200
- В ответе присутствует ID созданного объявления или статус сообщение о успешном создании

### TC-API-V1-02: Создание объявления с отрицательной ценой

**Предусловия:**
- Передан валидный sellerId

**Шаги:**
1. Выполнить POST запрос на эндпоинт /api/1/item с телом, где price = -100

**Ожидаемый результат:**
- Статус код: 400
- Сообщение об ошибке валидации

### TC-API-V1-03: Создание объявления с нулевой ценой

**Предусловия:**
- Передан валидный sellerId

**Шаги:**
1. Выполнить POST запрос на эндпоинт /api/1/item с телом, где price = 0

**Ожидаемый результат:**
- Статус код: 200 или 400 в зависимости от бизнес-логики

### TC-API-V1-04: Создание объявления с длинным названием (более 256 символов)

**Предусловия:**
- Передан валидный sellerId

**Шаги:**
1. Выполнить POST запрос на эндпоинт /api/1/item с телом, где name содержит 300 символов

**Ожидаемый результат:**
- Статус код: 400
- Сообщение об ошибке валидации длины поля

### TC-API-V1-05: Создание объявления с очень большим sellerId

**Предусловия:**

**Шаги:**
1. Выполнить POST запрос на эндпоинт /api/1/item с телом, где sellerId = 10000000000

**Ожидаемый результат:**
- Статус код: 400 или 200 с корректной обработкой большого числа

### TC-API-V1-06: Создание объявления с отрицательными значениями статистики

**Предусловия:**
- Передан валидный sellerId

**Шаги:**
1. Выполнить POST запрос на эндпоинт /api/1/item с телом, где statistics.likes = -1
2. Выполнить POST запрос на эндпоинт /api/1/item с телом, где statistics.viewCount = -1
3. Выполнить POST запрос на эндпоинт /api/1/item с телом, где statistics.contacts = -1

**Ожидаемый результат:**
- Статус код: 400 для всех случаев
- Сообщение об ошибке валидации отрицательных значений

### TC-API-V1-07: Создание объявления с нулевыми значениями статистики

**Предусловия:**
- Передан валидный sellerId

**Шаги:**
1. Выполнить POST запрос на эндпоинт /api/1/item с телом, где statistics.likes = 0
2. Выполнить POST запрос на эндпоинт /api/1/item с телом, где statistics.viewCount = 0
3. Выполнить POST запрос на эндпоинт /api/1/item с телом, где statistics.contacts = 0

**Ожидаемый результат:**
- Статус код: 200 для всех случаев

### TC-API-V1-08: Получение списка объявлений продавца

**Предусловия:**
- Создано хотя бы одно объявление для указанного продавца

**Шаги:**
1. Выполнить GET запрос на эндпоинт /api/1/{sellerId}/item

**Ожидаемый результат:**
- Статус код: 200
- Тело ответа содержит массив объявлений
- В массиве присутствуют созданные объявления продавца

### TC-API-V1-09: Получение статистики объявления

**Предусловия:**
- Создано объявление с известным ID

**Шаги:**
1. Выполнить GET запрос на эндпоинт /api/1/statistic/{itemId}

**Ожидаемый результат:**
- Статус код: 200
- Тело ответа содержит массив статистических данных

### TC-API-V1-10: Валидация обязательных полей при создании объявления

**Предусловия:**

**Шаги:**
1. Выполнить POST запрос на эндпоинт /api/1/item без поля sellerId
2. Выполнить POST запрос на эндпоинт /api/1/item без поля name
3. Выполнить POST запрос на эндпоинт /api/1/item без поля price

**Ожидаемый результат:**
- Статус код: 400 для всех случаев
- Сообщение об ошибке отсутствия обязательного поля

### TC-API-V1-11: Валидация типов данных при создании объявления

**Предусловия:**

**Шаги:**
1. Выполнить POST запрос на эндпоинт /api/1/item с sellerId в формате строки
2. Выполнить POST запрос на эндпоинт /api/1/item с name в формате числа
3. Выполнить POST запрос на эндпоинт /api/1/item с price в формате строки

**Ожидаемый результат:**
- Статус код: 400 для всех случаев
- Сообщение об ошибке неверного типа данных

### TC-API-V1-12: Получение объявления с невалидным ID форматом

**Предусловия:**

**Шаги:**
1. Выполнить GET запрос на эндпоинт /api/1/item/invalid!@#
2. Выполнить GET запрос на эндпоинт /api/1/item/123-invalid
3. Выполнить GET запрос на эндпоинт /api/1/item/[пустая строка]
4. Выполнить GET запрос на эндпоинт /api/1/item/[пробел]

**Ожидаемый результат:**
- Статус код: 400 для всех случаев
- Сообщение об ошибке невалидного ID

### TC-API-V1-13: Получение несуществующего объявления

**Предусловия:**

**Шаги:**
1. Выполнить GET запрос на эндпоинт /api/1/item/nonexistent_id_12345

**Ожидаемый результат:**
- Статус код: 404
- Сообщение о том, что объявление не найдено

### TC-API-V1-14: Получение объявлений несуществующего продавца

**Предусловия:**

**Шаги:**
1. Выполнить GET запрос на эндпоинт /api/1/999999/item

**Ожидаемый результат:**
- Статус код: 200
- Пустой массив в теле ответа

### TC-API-V1-15: Получение статистики с невалидным ID

**Предусловия:**

**Шаги:**
1. Выполнить GET запрос на эндпоинт /api/1/statistic/invalid_id_123

**Ожидаемый результат:**
- Статус код: 400
- Сообщение об ошибке невалидного ID

### TC-API-V1-16: Тестирование граничных значений для цены

**Предусловия:**
- Передан валидный sellerId

**Шаги:**
1. Выполнить POST запрос на эндпоинт /api/1/item с price = 0
2. Выполнить POST запрос на эндпоинт /api/1/item с price = 1
3. Выполнить POST запрос на эндпоинт /api/1/item с price = 999999999
4. Выполнить POST запрос на эндпоинт /api/1/item с price = -1

**Ожидаемый результат:**
- Статус код: 200 для значений 0, 1, 999999999
- Статус код: 400 для значения -1

### TC-API-V1-17: Тестирование граничных значений для длины названия

**Предусловия:**
- Передан валидный sellerId

**Шаги:**
1. Выполнить POST запрос на эндпоинт /api/1/item с name длиной 1 символ
2. Выполнить POST запрос на эндпоинт /api/1/item с name длиной 255 символов
3. Выполнить POST запрос на эндпоинт /api/1/item с name длиной 256 символов
4. Выполнить POST запрос на эндпоинт /api/1/item с name длиной 1000 символов

**Ожидаемый результат:**
- Статус код: 200 для длин 1, 255, 256 символов
- Статус код: 400 для длины 1000 символов

---

## Тест-кейсы для API v2

### TC-API-V2-01: Успешное удаление существующего объявления

**Предусловия:**
- Создано объявление с известным ID

**Шаги:**
1. Выполнить DELETE запрос на эндпоинт /api/2/item/{itemId}
2. Выполнить GET запрос на эндпоинт /api/1/item/{itemId} для проверки удаления

**Ожидаемый результат:**
- Статус код DELETE: 200
- Статус код GET: 404
- Подтверждение успешного удаления

### TC-API-V2-02: Удаление несуществующего объявления

**Предусловия:**

**Шаги:**
1. Выполнить DELETE запрос на эндпоинт /api/2/item/nonexistent_id_12345

**Ожидаемый результат:**
- Статус код: 404
- Сообщение о том, что объявление не найдено

### TC-API-V2-03: Удаление с невалидным ID форматом

**Предусловия:**

**Шаги:**
1. Выполнить DELETE запрос на эндпоинт /api/2/item/invalid!@#
2. Выполнить DELETE запрос на эндпоинт /api/2/item/123-abc
3. Выполнить DELETE запрос на эндпоинт /api/2/item/[пустая строка]

**Ожидаемый результат:**
- Статус код: 400 для всех случаев
- Сообщение об ошибке невалидного ID

### TC-API-V2-04: Получение статистики через API v2

**Предусловия:**
- Создано объявление с известным ID

**Шаги:**
1. Выполнить GET запрос на эндпоинт /api/2/statistic/{itemId}

**Ожидаемый результат:**
- Статус код: 200
- Тело ответа содержит массив статистических данных

### TC-API-V2-05: Получение статистики с невалидным ID через API v2

**Предусловия:**

**Шаги:**
1. Выполнить GET запрос на эндпоинт /api/2/statistic/invalid_id_123

**Ожидаемый результат:**
- Статус код: 400
- Сообщение об ошибке невалидного ID

### TC-API-V2-06: Консистентность версий API для статистики

**Предусловия:**
- Создано объявление с известным ID

**Шаги:**
1. Выполнить GET запрос на эндпоинт /api/1/statistic/{itemId}
2. Выполнить GET запрос на эндпоинт /api/2/statistic/{itemId}

**Ожидаемый результат:**
- Одинаковые статус коды для обоих запросов
- Одинаковая структура данных в ответах

---

## Тест-кейсы для проверки жизненного цикла товара

### TC-LC-01: Полный жизненный цикл товара

**Предусловия:**
- API клиенты v1 и v2 инициализированы и доступны
- Уникальный sellerId сгенерирован для теста

**Шаги:**
1. Создать товар через API v1 (`POST /api/1/item`)
2. Извлечь ID созданного товара из ответа
3. Выполнить серию GET запросов для проверки доступности товара:
   - Получить информацию о товаре через API v1 (`GET /api/1/item/{id}`)
   - Получить список товаров продавца через API v1 (`GET /api/1/{sellerId}/item`)
   - Получить статистику товара через API v1 (`GET /api/1/statistic/{id}`)
   - Получить статистику товара через API v2 (`GET /api/2/statistic/{id}`)
4. Удалить товар через API v2 (`DELETE /api/2/item/{id}`)
5. Проверить отсутствие товара через API v1 (`GET /api/1/item/{id}`)

**Ожидаемые результаты:**
- Создание товара возвращает статус 200
- ID товара успешно извлекается из ответа
- Все GET запросы выполняются успешно (статус 200) или возвращают корректные ошибки
- Удаление товара возвращает статус 200
- Финальный запрос информации о товаре возвращает 400 или 404
- Созданный тестовый товар удален из системы

---
